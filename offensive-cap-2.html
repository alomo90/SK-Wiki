<!--
title: Offensive Cap
description: 
published: true
date: 2025-04-23T07:28:31.769Z
tags: 
editor: code
dateCreated: 2025-04-23T07:26:04.503Z
-->

<h1>‚öñÔ∏è Cap Balance System</h1>

<h2>üß† Overview</h2>
<p>The <strong>Anti-Turtle Cap System</strong> controls how much offense you are allowed to make.</p>

<hr>

<h2>üìä Cap Ratio</h2>

<table>
  <thead>
    <tr>
      <th>Cap Type</th>
      <th>Percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Defense</td>
      <td>45%</td>
    </tr>
    <tr>
      <td>Offense</td>
      <td>55%</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>You can train up to 55% of your cap in <strong>offense</strong>.</li>
  <li>45% must go into <strong>defensive power</strong>.</li>
  <li><strong>Flexible units</strong> contribute partially to the defense cap (35%).</li>
</ul>

<hr>

<h2>üß± Unit Roles and Cap Contribution</h2>

<table>
  <thead>
    <tr>
      <th>Unit Type</th>
      <th>Offense</th>
      <th>Defense</th>
      <th>Cap Role</th>
      <th>Contribution to Defense Cap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Troopers</strong></td>
      <td>4</td>
      <td>0</td>
      <td>Pure Offense</td>
      <td>0%</td>
    </tr>
    <tr>
      <td><strong>Laser Troopers</strong></td>
      <td>0</td>
      <td>4</td>
      <td>Pure Defense</td>
      <td>100%</td>
    </tr>
    <tr>
      <td><strong>Tanks</strong></td>
      <td>9</td>
      <td>9</td>
      <td>Flex</td>
      <td>35% of Defense Value</td>
    </tr>
    <tr>
      <td><strong>Soldiers</strong></td>
      <td>1</td>
      <td>1</td>
      <td>Flex</td>
      <td>35% of Defense Value</td>
    </tr>
  </tbody>
</table>

<hr>

<h2>üìê How the Cap Works</h2>

<ol>
  <li><strong>Calculate Defense Cap Value</strong><br>
      - Full defense value from <strong>pure defensive units</strong><br>
      - <strong>35%</strong> of defense value from <strong>flex units</strong></li>
  <li><strong>Determine Offense Cap from Defense Cap</strong><br>
      - You can train up to a <strong>55:45</strong> ratio of offense to defense.</li>
  <li><strong>Apply Caps When Training Units</strong><br>
      - The number of <strong>troopers</strong> you can train is based on your current defense value.</li>
</ol>

<hr>

<h2>‚öîÔ∏è Example Calculation</h2>

<p>Let‚Äôs say your kingdom has:</p>
<ul>
  <li>5,000 <strong>Laser Troopers</strong> (0/4)</li>
  <li>1,000 <strong>Tanks</strong> (9/9)</li>
  <li>1,000 <strong>Soldiers</strong> (1/1)</li>
  <li>??? <strong>Troopers</strong> (0/4) ‚Äî we‚Äôll calculate how many you're allowed</li>
</ul>

<h3>üîß Step 1: Calculate Defense Cap Value</h3>

<ul>
  <li><strong>Laser Troopers</strong>: 5,000 √ó 4 = <strong>20,000</strong> (100% contribution)</li>
  <li><strong>Tanks</strong>: 1,000 √ó 9 = 9,000 ‚Üí 35% = <strong>3,150</strong></li>
  <li><strong>Soldiers</strong>: 1,000 √ó 1 = 1,000 ‚Üí 35% = <strong>350</strong></li>
</ul>

<p><strong>Total Defense Cap Value:</strong><br>
20,000 + 3,150 + 350 = <strong>23,500</strong></p>

<hr>

<h3>üí• Step 2: Calculate Max Offense (Troopers Allowed)</h3>

<pre><code>Trooper Offense Cap = (55 / 45) √ó 23,500  
                    = 1.222... √ó 23,500  
                    = 28,722 (rounded)

Each Trooper provides 4 offense, so:

Troopers Allowed = 28,722 / 4  
                 = 7,180
</code></pre>

<hr>

<h2>üßÆ Live Cap Calculator</h2>

<label>Laser Troopers: <input type="number" id="laser" value="0"></label><br>
<label>Tanks: <input type="number" id="tanks" value="0"></label><br>
<label>Soldiers: <input type="number" id="soldiers" value="0"></label><br>
<br>
<button onclick="calculateCap()">Calculate</button>

<p><strong>Total Defense Cap Value:</strong> <span id="defCap">0</span></p>
<p><strong>Trooper Offense Cap (total offense points):</strong> <span id="offCap">0</span></p>
<p><strong>Troopers Allowed (4 O):</strong> <span id="troopers">0</span></p>
<p><strong>Dragoons Allowed (5 O):</strong> <span id="dragoons">0</span></p>
<p><strong>Fighters Allowed (6 O):</strong> <span id="fighters">0</span></p>

<script>
function calculateCap() {
  const laser = parseInt(document.getElementById('laser').value) || 0;
  const tanks = parseInt(document.getElementById('tanks').value) || 0;
  const soldiers = parseInt(document.getElementById('soldiers').value) || 0;

  const laserDef = laser * 4;
  const tanksDef = tanks * 9 * 0.35;
  const soldiersDef = soldiers * 1 * 0.35;

  const totalDefCap = laserDef + tanksDef + soldiersDef;
  const offenseCap = totalDefCap * (55 / 45);

  const troopersAllowed = Math.floor(offenseCap / 4);   // Troopers = 4 offense
  const dragoonsAllowed = Math.floor(offenseCap / 5);   // Dragoons = 5 offense
  const fightersAllowed = Math.floor(offenseCap / 6);   // Fighters = 6 offense

  document.getElementById('defCap').innerText = Math.floor(totalDefCap);
  document.getElementById('offCap').innerText = Math.floor(offenseCap);
  document.getElementById('troopers').innerText = troopersAllowed;
  document.getElementById('dragoons').innerText = dragoonsAllowed;
  document.getElementById('fighters').innerText = fightersAllowed;
}
</script>
